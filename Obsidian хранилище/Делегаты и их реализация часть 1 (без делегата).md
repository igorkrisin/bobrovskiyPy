#ios #delegate #protocol 

я уже использовал делегаты в проекте [[Пишем TODO list]]

Теперь создаем небольшой проект, задаем идентификатор segue и выносим все outlet и action в классы


![[Screenshot 2024-01-08 at 19.54.31.png]]


Задача при<mark style="background: #FFB86CA6;"> нажатии на Button</mark> сменить label на secondViewController

в <mark style="background: #BBFABBA6;">MainViewController</mark>  пишем

```swift

class MainViewController: UIViewController {

    @IBOutlet weak var labelMainVC: UILabel!
    
    var nameUser: String = "Jhon"
    
    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {
    //проверяем куда указывает segue (в направлениии какого VC будет осуществелен переход)и если идентификатор совпадает с указаным в сториборде - то создаем переход и кастим его к классу SecondViewControllerт выполняем присвоение label нового значения
        if segue.identifier == "toSecVC", let vc = segue.destination as? SecondViewController {
            print("1111")
        //присваиваем не напрямую seconLabel, а свойству посреднику userName^ а оно в свою очередб это значение передаеь Outlet во viewDidLoad, потому как при надатии на кнопку outlet еще не инициалиированы итолько после загрузки мы мз посредника складываем в label значение 
            vc.userName = nameUser
            
        }
    }
    
    
    override func viewDidLoad() {
        super.viewDidLoad()
        // Do any additional setup after loading the view.
    }
    //указываем segue куда переходить
    @IBAction func toSecondVCButton(_ sender: Any) {
    
        performSegue(withIdentifier: "toSecVC", sender: self)
    }
    

}```

в SecondViewController пишем

```swift

class SecondViewController: UIViewController {

    @IBOutlet weak var seconLabel: UILabel!
    @IBOutlet weak var secondTextfield: UITextField!
    //пришлост добавить переменную поскольку при переходе UILabel еще не инициализирован и в  MainViewController падает изза nil, который туда прилетает
    var userName = "1"
    
    
    override func viewDidLoad() {
        super.viewDidLoad()
        seconLabel.text = userName
    }
    
    
    
    
    @IBAction func saveTecxtfieldData(_ sender: Any) {
    }
    
```

[[Что бы добавить делегат (delegate) необходимо произвести 5 действий]]

